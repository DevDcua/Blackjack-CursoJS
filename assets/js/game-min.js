(()=>{"use strict";let e=[],r=["C","D","H","S"],t=["A","J","Q","K"],a=0,d=0,l=document.querySelector("#btn__pedir"),n=document.querySelector("#btn__nuevo"),s=document.querySelector("#btn__detener"),c=document.querySelector(".score__jugador"),o=document.querySelector(".score__computadora"),i=document.querySelector(".cards__deck--computadora"),u=document.querySelector(".cards__deck"),$=()=>{for(let a=2;a<=10;a++)for(let d of r)e.push(a+d);for(let l of r)for(let n of t)e.push(n+l);return _.shuffle(e)};$();let p=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()};p();let b=e=>{let r=e.substring(0,e.length-1);return isNaN(r)?"A"===r?11:10:1*r},g=e=>{do{let r=p();d+=b(r),o.innerText=d;let t=document.createElement("img");if(t.src=`../Blackjack-CursoJS/assets/img/${r}.png`,t.classList.add("card"),i.append(t),e>21)break}while(d<e&&d<=21);setTimeout(()=>{d===e?alert("Empate :("):e>21?alert("Computadora Gana"):d>21?alert("Jugador Gana"):alert("Computadora Gana")},100)};l.addEventListener("click",()=>{let e=p();a+=b(e),c.innerText=a;let r=document.createElement("img");r.src=`../Blackjack-CursoJS/assets/img/${e}.png`,r.classList.add("card"),u.append(r),a>21?(console.warn("Lo siento mucho, perdiste"),l.disabled=!0,s.disabled=!0,g(a)):21===a&&(console.warn("21, genial"),l.disabled=!0,s.disabled=!0,g(a))}),s.addEventListener("click",()=>{l.disabled=!0,s.disabled=!0,g(a)}),n.addEventListener("click",()=>{console.clear(),e=[],e=$(),a=0,d=0,o.innerText=0,c.innerText=0,i.innerHTML="",u.innerHTML="",l.disabled=!1,s.disabled=!1})})();